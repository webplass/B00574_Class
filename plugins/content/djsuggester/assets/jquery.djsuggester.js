/**
 * @version $Id$
 * @package DJ-Suggerster
 * <copyright>Copyright (C) 2017 DJ-Extensions.com, All rights reserved.
 * @license DJ-Extensions.com Proprietary Use License
 * @author url: http://dj-extensions.com
 * @author email contact@dj-extensions.com
 * @developer Szymon Woronowski - szymon.woronowski@design-joomla.eu
 */
!function($){var f={options:{animIn:'showBox',animOut:'hideBox',animSpeed:'normal',duration:500},init:function(a){f.box=a;f.anim=f.hasAnim();f.offset=a.data('offset');f.delay=a.data('delay');f.hideInTop=a.data('hideintop');f.showOnce=a.data('showOnce');if(f.anim){f.options.animIn=a.data('animIn');f.options.animOut=a.data('animOut');f.options.animSpeed=a.data('animSpeed');switch(f.options.animSpeed){case'fast':f.options.duration=250;break;case'slow':f.options.duration=750;break}if(f.options.animOut=='hinge')f.options.duration=1500;f.timer=null}a.addClass('hideBox '+f.options.animSpeed);f.closedByUser=false;var b=null;var c=function(){clearTimeout(b);b=setTimeout(function(){f.scroll()},50)};$(window).on('scroll',c);a.find('.dj-close').on('click',function(){if(f.showOnce){clearTimeout(b);$(window).off('scroll',c)}f.closedByUser=true;f.hideBox()});if($(document).height()<=$(window).height()){setTimeout(function(){f.showBox()},f.delay*1000)}},scroll:function(){var a=$(document).height()-$(window).scrollTop()-$(window).height();if(f.hideInTop&&$(window).scrollTop()==0){f.hideBox()}else if(a<f.offset||a==0){if(a==0)f.closedByUser=false;if(!f.closedByUser)f.showBox()}else{if(f.hideInTop)f.hideBox();f.closedByUser=false}},showBox:function(){if(f.anim){clearTimeout(f.timer);f.box.removeClass('hideBox')}f.box.removeClass(f.options.animOut);f.box.addClass(f.options.animIn)},hideBox:function(){if(f.anim){clearTimeout(f.timer);f.timer=setTimeout(function(){f.box.addClass('hideBox')},f.options.duration)}f.box.removeClass(f.options.animIn);f.box.addClass(f.options.animOut)},hasAnim:function(){var b=document.body||document.documentElement;var s=b.style;if(typeof s=='undefined')return false;if(typeof s['animation']=='string')return true;v=['Moz','Webkit','Khtml','O','ms','Icab'];for(var i=0;i<v.length;i++){if(typeof s[v[i]+'Animation']=='string')return true}return false}};$(document).ready(function(){var c=$('div.dj-suggester');if(!c.length)return;$('body').append('<div id="dj-suggester"><div id="dj-suggester-in"><span class="dj-close"></span></div></div>');var d=$('#dj-suggester');var e=$('#dj-suggester-in');if(c.length)c.each(function(a){var b=$(this);if(a==0){d.data(b.data())}b.removeAttr('data-offset');b.removeAttr('data-delay');b.removeAttr('data-hideintop');b.removeAttr('data-anim-in');b.removeAttr('data-anim-out');b.removeAttr('data-anim-speed')});c=$('div.dj-suggester.first');if(c.length)c.each(function(){var a=$(this);a.appendTo(e);a.css('display','block')});c=$('div.dj-suggester.replace');if(c.length){c.each(function(){var a=$(this);a.appendTo(e);a.css('display','block')})}else{c=$('div.dj-suggester.component');if(c.length)c.each(function(){var a=$(this);if(a.hasClass('content'))d.addClass('suggest-content');if(a.hasClass('djcatalog'))d.addClass('suggest-djcatalog');if(a.hasClass('k2'))d.addClass('suggest-k2');a.appendTo(e);a.css('display','block')})}c=$('div.dj-suggester.last');if(c.length)c.each(function(){var a=$(this);a.appendTo(e);a.css('display','block')});f.init(d)})}(jQuery);